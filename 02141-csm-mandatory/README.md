# Mandatory Assignment part 5.
- Team 27 { Daniel F. Hauge - (s201186) }
- Hand-in Date: 06/05/2021
- Repository: https://github.com/DanielHauge/02141-computer-science-modeling

## Files
- Parser.fsp : The parser file for fsyacc.exe
- Lexer.fsl : The lexer file for fslex.exe
- AST.fs : abstract syntax tree (type definition)
- Program.fs : The entry point of the application, also the program logic.
- ASTPrettyPrinter.fs : A module for printing the AST in a format for external AST tool.
- Parser.fs, Lexer.fs, Parser.fsi : Autogenerated files from parser generator.
- buildpg.sh : A script file for building parser og lexer (used mostly for development)
- PGCompiler.fs : Contains type definitions and compilation code for the program graph
- PGPrinter.fs : Contains code to format program graph to string and graphiz format.
- PGEvaluator.fs : Contains code for evaluating expressions such as arithmetic expressions or boolean expressions, also command expressions etc.
- PGInterpreter.fs : Contains code for interpreting and running a program given a parsed program graph and initial memory.
- SignEvaluator.fs : Contains code for evaluating abstract signs for arithmetic and boolean expressions
- SignAnalyser.fs : Contains code for sign analysis
- Security.fs : Contains code for analysing actual security flows.
- SecurityInit.fs : Contains code for security policy setup and allowed security flows and violations.
- TrasitionSystem.fs : Contains code for the model checker feature.

## Parse a GCL program with application.
- Have the GCL program in a file ending in ".gcl"
- Run the main function (The entrypoint marked with [\<EntryPoint>] attribute) in Program.fs
- Specify if program graph should be deterministic or not by pressing the y-key or anything else for non-deterministic.
- Write file path to the GCL program. (Optional, no path uses hardcoded path for testing)

## Visual AST
- Parsing a GCL program will generate a file with the same name but with a ".ast" file extension. 
- Copy the contents of the ".ast" file into the Data(editable) panel at http://jimblackler.net/treefun/.

## Program Graph
- Parsing a GCL program will generate a file with the same name but with a ".gv" file extension. 
- This file contains the program graph in graphviz format.

## Interprete program (With stepwise execution)
- Have a program which can be parsed (see Parse a GCL program section)
- Have initial memory file ending in ".mem" with the same name as the program being parsed and intepreted.
- Parse a program will also interprete and print execution report and step wise execution.

## Sign analysis:
- The program will analyse the signs based on the the abstract memory derived from initial memory.
- Sign analysis can be found in the file ending in ".sign" after parsing.

## Security analysis:
- The program will analyse the security based on the configuration file, which is expected at same location and same name as gcl program but with file extension: ".sp"
  - test.sp : Is the security policy in json format as the example below: 
```json
{
  "policy": "x = known_facts, y = known_facts, z = known_facts",
  "template": "known_facts < conjecture, conjecture < alternative_facts"
}
```
- The security analysis can be found in the file ending in ".sa" after parsing.

## Model checker:
- Not fully implemented, before deadline. Partial implementation can be found in TransitionSystem.fs